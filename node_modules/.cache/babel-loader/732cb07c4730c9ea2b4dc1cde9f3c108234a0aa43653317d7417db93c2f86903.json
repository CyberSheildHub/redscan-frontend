{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import LiveFeed from\"../components/LiveFeed\";import{openStream}from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dashboard(){const[items,setItems]=useState([]);const wsRef=useRef(null);useEffect(()=>{wsRef.current=openStream(msg=>{setItems(prev=>[msg,...prev].slice(0,100));});return()=>{try{wsRef.current&&wsRef.current.close();}catch(_unused){}};},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ra-card ra-glass p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-emerald-400 mb-2\",children:\"\\uD83D\\uDCE1 Live Alerts & Events\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-400 mb-4\",children:\"Streaming from your endpoints in real time.\"}),/*#__PURE__*/_jsx(LiveFeed,{items:items})]})});}","map":{"version":3,"names":["React","useEffect","useRef","useState","LiveFeed","openStream","jsx","_jsx","jsxs","_jsxs","Dashboard","items","setItems","wsRef","current","msg","prev","slice","close","_unused","className","children"],"sources":["/var/www/redscan-frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport LiveFeed from \"../components/LiveFeed\";\nimport { openStream } from \"../api\";\n\nexport default function Dashboard() {\n  const [items, setItems] = useState([]);\n  const wsRef = useRef(null);\n\n  useEffect(() => {\n    wsRef.current = openStream((msg) => {\n      setItems((prev) => [msg, ...prev].slice(0, 100));\n    });\n    return () => {\n      try {\n        wsRef.current && wsRef.current.close();\n      } catch {}\n    };\n  }, []);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"ra-card ra-glass p-6\">\n        <h2 className=\"text-2xl font-semibold text-emerald-400 mb-2\">ðŸ“¡ Live Alerts & Events</h2>\n        <p className=\"text-sm text-slate-400 mb-4\">\n          Streaming from your endpoints in real time.\n        </p>\n        <LiveFeed items={items} />\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,OAASC,UAAU,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAClC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAU,KAAK,CAAGX,MAAM,CAAC,IAAI,CAAC,CAE1BD,SAAS,CAAC,IAAM,CACdY,KAAK,CAACC,OAAO,CAAGT,UAAU,CAAEU,GAAG,EAAK,CAClCH,QAAQ,CAAEI,IAAI,EAAK,CAACD,GAAG,CAAE,GAAGC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE,GAAG,CAAC,CAAC,CAClD,CAAC,CAAC,CACF,MAAO,IAAM,CACX,GAAI,CACFJ,KAAK,CAACC,OAAO,EAAID,KAAK,CAACC,OAAO,CAACI,KAAK,CAAC,CAAC,CACxC,CAAE,MAAAC,OAAA,CAAM,CAAC,CACX,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEZ,IAAA,QAAKa,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBZ,KAAA,QAAKW,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCd,IAAA,OAAIa,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,mCAAuB,CAAI,CAAC,cACzFd,IAAA,MAAGa,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,6CAE3C,CAAG,CAAC,cACJd,IAAA,CAACH,QAAQ,EAACO,KAAK,CAAEA,KAAM,CAAE,CAAC,EACvB,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}